<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Caminho F√°cil - Detalhes</title>

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

		<style>
			body {
				background-color: #f8f9fa;
			}

			.rating-display {
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 8px;
				font-size: 1.4rem;
			}

			.rating-display .star {
				color: gold;
				font-size: 1.6rem;
			}

			.progress {
				height: 12px;
			}

			.criterio {
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			.criterio label {
				font-weight: 500;
				margin-right: 10px;
			}

			.foto-rua {
				border-radius: 10px;
				box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
			}

			.comentario {
				background: white;
				border-radius: 10px;
				padding: 10px 15px;
				margin-bottom: 10px;
				box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
			}

			.comentario strong {
				color: #198754;
			}

			.btn-outline-success {
				border-radius: 20px;
			}

			h6 {
				margin-top: 20px;
				font-weight: 600;
			}
		</style>
	</head>

	<body class="bg-light">
		<nav class="navbar navbar-dark bg-success fixed-top">
			<div class="container-fluid">
				<a class="navbar-brand" href="index.html">‚Üê Voltar</a>
				<span class="navbar-text text-white">Detalhes da Rua</span>
			</div>
		</nav>

		<div class="container mt-5 pt-4">
			<h4 id="titulo-rua" class="my-3">Rua selecionada</h4>

			<div class="text-center mb-3">
				<button id="btnRota" class="btn btn-outline-success">üö∂ Tra√ßar rota</button>
			</div>

			<!-- Avalia√ß√£o m√©dia -->
			<div class="card p-3 mb-4 shadow-sm">
				<h6 class="text-success mb-2">Avalia√ß√£o m√©dia</h6>
				<div class="rating-display">
					<span class="star">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
					<span>(4.2)</span>
				</div>
				<div class="text-center mt-2">
					<a href="avaliacao.html" class="btn btn-success btn-sm rounded-pill">+ Fazer avalia√ß√£o</a>
				</div>
			</div>
 
			<!-- Caracter√≠sticas com percentuais -->
			<div class="card p-3 mb-4 shadow-sm">
				<h6 class="text-success">Caracter√≠sticas de acessibilidade</h6>

				<div class="criterio mt-2">
					<label>Piso t√°til presente</label>
					<span>90%</span>
				</div>
				<div class="progress mb-2">
					<div class="progress-bar bg-success" style="width: 90%"></div>
				</div>

				<div class="criterio">
					<label>Rebaixamento de guia</label>
					<span>75%</span>
				</div>
				<div class="progress mb-2">
					<div class="progress-bar bg-warning" style="width: 75%"></div>
				</div>

				<div class="criterio">
					<label>Ilumina√ß√£o adequada</label>
					<span>85%</span>
				</div>
				<div class="progress mb-2">
					<div class="progress-bar bg-info" style="width: 85%"></div>
				</div>

				<div class="criterio">
					<label>Cal√ßada livre de obst√°culos</label>
					<span>70%</span>
				</div>
				<div class="progress">
					<div class="progress-bar bg-danger" style="width: 70%"></div>
				</div>
			</div>

			<!-- Fotos -->
			<div class="card p-3 mb-4 shadow-sm">
				<h6 class="text-success">Fotos recentes</h6>
				<img src="assets/img/rua.png" class="img-fluid foto-rua mt-2" alt="Foto da rua" />
			</div>

			<!-- Coment√°rios -->
			<div class="card p-3 shadow-sm mb-5">
				<h6 class="text-success">Coment√°rios dos usu√°rios</h6>
				<div class="comentario"><strong>Maria:</strong> Cal√ßada em √≥timo estado!</div>
				<div class="comentario"><strong>Jo√£o:</strong> H√° um pequeno desn√≠vel perto da esquina.</div>
				<div class="comentario"><strong>Ana:</strong> Muito iluminada √† noite, √≥tima para caminhar.</div>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

		<script>
			document.addEventListener("DOMContentLoaded", () => {
				const params = new URLSearchParams(window.location.search);
				const rua = params.get("rua");
				const titulo = document.getElementById("titulo-rua");
				const btnRota = document.getElementById("btnRota");

				if (rua && titulo) {
					titulo.textContent = decodeURIComponent(rua);
					console.log("Rua detectada:", rua);
				} else if (titulo) {
					titulo.textContent = "Rua n√£o informada";
					console.warn("Nenhum par√¢metro 'rua' encontrado.");
				}

				btnRota.addEventListener("click", () => {
					if (rua) {
						window.location.href = `rotas.html?rua=${encodeURIComponent(rua)}`;
					} else {
						alert("Rua n√£o identificada.");
					}
				});
			});
		</script>
	</body>
</html>
